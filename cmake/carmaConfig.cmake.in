@PACKAGE_INIT@

# Compute the installation prefix relative to this file.
GET_FILENAME_COMPONENT(_IMPORT_PREFIX "${CMAKE_CURRENT_LIST_FILE}" PATH)
GET_FILENAME_COMPONENT(_IMPORT_PREFIX "${_IMPORT_PREFIX}" PATH)
GET_FILENAME_COMPONENT(_IMPORT_PREFIX "${_IMPORT_PREFIX}" PATH)
GET_FILENAME_COMPONENT(_IMPORT_PREFIX "${_IMPORT_PREFIX}" PATH)
IF(_IMPORT_PREFIX STREQUAL "/")
  SET(_IMPORT_PREFIX "")
ENDIF()

SET(_SUPPORTED_COMPONENTS "carma" "headers")

SET(carma_INCLUDE_DIR "${_IMPORT_PREFIX}/@CARMA_INCLUDE_INSTALL_DIR@")
SET(carma_INCLUDE_DIRS "${_IMPORT_PREFIX}/@CARMA_INCLUDE_INSTALL_DIR@")
set(carma_LIBRARY "")

FOREACH(_comp ${carma_FIND_COMPONENTS})
    IF (_comp STREQUAL "carma")
        INCLUDE("${CMAKE_CURRENT_LIST_DIR}/carmaDependencyTargets.cmake")
        INCLUDE("${CMAKE_CURRENT_LIST_DIR}/carmaCarmaTargets.cmake")
        SET(carma_carma_FOUND TRUE)
    ELSEIF (_comp STREQUAL "headers")
        INCLUDE("${CMAKE_CURRENT_LIST_DIR}/carmaHeaderTargets.cmake")
        SET(carma_headers_FOUND TRUE)
    ELSE ()
        SET(carma_NOT_FOUND_MESSAGE "Unsupported component: ${_comp}")
    ENDIF()
ENDFOREACH()
IF (NOT carma_carma_FOUND OR carma_headers_FOUND)
    INCLUDE("${CMAKE_CURRENT_LIST_DIR}/carmaDependencyTargets.cmake")
    INCLUDE("${CMAKE_CURRENT_LIST_DIR}/carmaCarmaTargets.cmake")
    INCLUDE("${CMAKE_CURRENT_LIST_DIR}/carmaHeaderTargets.cmake")
ENDIF ()

IF (TARGET carma::carma)
    TARGET_PRECOMPILE_HEADERS(carma::carma
        INTERFACE
            "${carma_INCLUDE_DIR}/carma_bits/cnalloc.h"
    )
ENDIF()
IF (TARGET carma::carma_headers)
    ADD_LIBRARY(carma::headers ALIAS carma::carma_headers)
ENDIF ()

check_required_components("@PROJECT_NAME@")

IF (NOT carma_FIND_QUIETLY)
  message(
    STATUS
      "Found carma: ${carma_INCLUDE_DIR} (found version \"${carma_VERSION}\")"
  )
ENDIF()

# clean up
SET(_IMPORT_PREFIX)
SET(_SUPPORTED_COMPONENTS)
